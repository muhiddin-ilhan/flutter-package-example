import 'package:flutter/cupertino.dart';
import 'package:flutter/material.dart';
import 'package:flutter_html/flutter_html.dart';
import 'package:vc_product_widgets/components/base/base_component.dart';
import 'package:vc_product_widgets/components/checkbox/vc_product_checkbox.dart';
import 'package:vc_product_widgets/helper/modal_popup/modal_popup_helper.dart';
import 'package:vc_product_widgets/utils/color_constant.dart';

// ignore: must_be_immutable
class VCProductTermsAndConditions extends BaseComponent {
  String executingTransactionName;
  bool? isChecked;
  Function(bool?)? onChanged;

  VCProductTermsAndConditions({
    Key? key,
    required this.executingTransactionName,
    this.isChecked,
    this.onChanged,
    super.id,
    super.showError,
    super.checkOthers,
    super.willValidate,
  }) : super(key: key);

  @override
  State<VCProductTermsAndConditions> createState() =>
      _VCProductTermsAndConditionsState();
}

class _VCProductTermsAndConditionsState
    extends State<VCProductTermsAndConditions> {
  String termsAndConditions = "";
  String termsAndConditionsText =
      "<span class=\"'text-dark-gray pt-1 text-def-font-size\">I agree to <u>Terms and Conditions</u></span>"; //resourceHelper.getMessage("Message.TermsAndConditionsHtml");
  bool contractModel = false;
  String transactionTermsAndConditions = "";

  void setTermsAndConditions() {
    transactionTermsAndConditions =
        "TermsAndConditions.${widget.executingTransactionName}";
    termsAndConditions =
        "<html><head>  </head><body><b>1.Definitions and Interpretations: </b><br><br>1.1.<b>\"Internet Banking Terms and Conditions\"</b>shall mean the Terms and Conditions as modified from time to time applicable to Internet Banking offered by the Bank.<br><br>1.2.<b>\"Confidential Information\" </b>refers to information obtained by the Customer, through the Bank, for availing various Services through Internet Banking.<br><br>1.3.<b>\"Payment Instruction\" </b>shall mean an instruction given by a Customer to transfer funds from the Account held by the Customer to different account(s) held by other approved Customers within the Bank or with any other Bank and /or request to issue Manager’s Cheque in the name of the Recipient who may or may not have an account with the Bank or to make payments of the nature of bill payments, Credit Card payments and such payments of similar nature. The Bank may in its sole and exclusive discretion confine this facility only to certain permitted Customers or may extend it from time to time to be generally available to all Customers.<br><br>1.4.<b>\"Internet\"</b>refers to the network of computers / mobile phones / other electronic devices which share and exchange information. The Internet is a worldwide broadcasting capability, mechanism for information dissemination, and a medium for collaboration and interaction between individuals and their computers / mobile phones / other electronic devices capable of accessing the Internet without regard for geographic location.<br><br>1.5.<b>\"Internet Banking Services\" </b>is the Bank's Service (including all modifications of such services) which provides access to account information, products and other services (Including transactions of non-financial and financial in nature) as advised by the Bank from time to time to the customers through the website of the Bank. Internet Banking Services also include the services for Credit Cards and loan on the website of the Bank. The terms Internet Banking and Internet Banking Services/facility may be interchangeably used.<br><br>1.6.<b>“Customer” </b>refers to any person who has a Bank Account and/or a Credit Card account and/or a loan account who has been authorized by the Bank to avail of the said facility.  Customer Username generated during internet banking registration and Password that the customer needs to use in order to do his/her Internet Banking transactions.<br><br>1.7.<b>“Account”</b>refers to the Customer's Savings and/or Current Account and/or loan accounts and/or Term Deposit or any other type of account so designated by the Bank to be eligible account(s) for operations through the use of Internet Banking.<br>1.8.<b>“Personal Information”</b>refers to the information about the customer obtained in connection with Internet Banking/any other Banking relationship with the Bank.<br><br><b>2. Internet Banking Services Special Terms: </b><br><br>2.1. In consideration of the Bank making available to the Customer Internet Banking Services, the Customer hereby acknowledges, accepts, and understands the following terms and conditions: <br><br>2.1.1. As a conditional precedent for subscribing to Internet Banking Service, the Customer shall maintain an active Account with the Bank, in the event that the Account was closed or the Bank’s relationship with the Customer was terminated for any reason, the Bank reserves the right to cancel the Internet Banking Service without prior notice. <br><br>2.1.2. Products applications in online banking will be subject to eligibility and risk policy.<br><br>2.1.3. Username is a unique identifier selected by each Customer. Customer will also select /set his own Internet Banking password. It will be Bank’s endeavor to provide Internet Banking services at all times on a 24*7 basis.<br><br>2.1.4. The Bank reserves the right to decline any application for Internet Banking Service without assigning any reason and may in its sole discretion withdraw, cancel or modify the Internet Banking Services, Internet Banking Terms and Conditions and/ or the General Terms and Conditions or any other terms and conditions thereto. <br><br>2.1.5. The Customer agrees to accept and comply with instructions of the Internet Banking Service. <br><br>2.1.6. The Customer agrees that the Bank’s record of any Financial or non-Financial Transactions conducted through Internet Banking Service shall be conclusive evidence of such transaction(s) and legally binding on the Customer for all purposes.<br><br>2.1.7. The Bank may recover any amounts due to it under these Internet Banking Terms and Conditions by debiting any of the Customer’s Account(s) with the Bank whether these Accounts are associated or not with Internet Banking Service. <br><br>2.1.8. The Customer acknowledges and agrees that the Internet Banking Service is offered and provided to him/her at his/her own risk and responsibility, the Bank will not be responsible for any loss or damages arise directly or indirectly form the use of Internet Banking Service by the Customer. <br><br>2.1.9. The Customer undertakes and agrees to execute any additional documents that may be required by the Bank to subscribe to the Internet Banking Service or to modify, add modified/ additional facilities under the Internet Banking Service to the Customer. Where a Customer fails to comply with the above requirements, he shall not be eligible for such enhanced or modified the Internet Banking Service and the Bank will be entitled to withdraw or cancelled the Internet Banking Service provided to the Customer. <br><br>2.1.10. Where the Customer, before subscribing or accessing the Internet Banking Services, is required to confirm his concurrence electronically for the associated terms and conditions, the Customer agrees and understands that such concurrence via electronic media will be sufficient and will be legally binding on the Customer for all intents and purposes. <br><br>2.1.11. The Customer acknowledges that Internet Banking Service name/brand are the property of the Bank and the Bank enjoys intellectual property, copyright interest over these names/ brand and over all software and documentation related to the name/brand and their subsequent amendments including user guidelines in any form. <br><br>2.1.12. The Customer acknowledges and agrees that any change or amendment to the Internet Banking Service name shall not affect the Customer obligations under these terms and conditions, the General Terms and Conditions or any other particular terms and conditions applied on Internet Banking Service if any. <br><br>2.1.13. If the Internet Banking Services allow the Customer to establish additional Accounts/suffixes in his/her name through his/her Internet Banking Service, the new Account or suffix will be governed by the Bank’s Terms and Conditions as amended from time to time in addition to these terms and conditions. <br><br>2.1.14. The Customer recognizes and accepts that his primary mobile number and/or email address will be used to transmit authentication code (one-time password). The Customer is responsible for keeping the mobile device protected at all times and update the number/email address in Bank records in case of any change to the primary number and/or email address.  <br><br>2.1.15. These terms condition do not exclude the need to accept special terms and conditions related to any other banking products. The Bank reserves the right to request the Customer to accept particular terms and condition related to certain product or transactions as applicable.<br><br><b>3. Software:</b><br><br>3.1. The Bank grants the Customer the non-exclusive right to use any release of Internet Banking Service Software on the basis that the Customer: <br><br>3.1.1. Shall not remove the software or sub-license, copy, disclose, amend or otherwise part with the Software or any of its application(s) or components to any other party. <br><br>3.1.2. Shall use Internet Banking Service Software only in connection with the use of Internet Banking Service.  <br><br>3.1.3. The Bank shall not be responsible for any errors should Internet Banking Software or any other Software of data be tampered with and/or corrupted. <br><br>3.1.4. The Customer shall indemnify the Bank against any claim, financial, or other, for infringement of a patent, design, trademark or copyright which the Bank may incur as a result of the Customer’s use of the Software.<br><br>3.1.5. The Customer hereby accepts any terms and conditions associated with third party licenses for products /services supplied by the Bank to the Customer as part of Internet Banking Service. vii. The Bank shall not be responsible for any loss of data through failure to take regular back-ups will be the Customer’s own responsibility and the Bank will not be obliged to restore any lost data. <br><br>3.1.6. The Customer agrees that the Bank own all information stored and transmitted through the Internet Banking Service and shall have the right to review, monitor, change or delete such information for security, administrative and other purpose. <br><br><b>4. Products and Services: </b><br><br>4.1. Subject to the Bank’s sole discretion, the Customer can apply to the Bank’s products and Services through Internet Banking Service. The products and Services applied to will be subject to the relevant terms and conditions of such products and Services that might be available on the Bank website, branches and/or Internet Banking Service. The Bank reserve the right to add, remove or suspend any product or Banking Service to be accessed through Internet Banking Service.<br><br><b>5. Security Measures: </b><br><br>5.1. The Customer and the User confirms that they will not disclose their Password or User Identification to others and will safeguard these strictly in a private and confidential manner. In the event of any such information becoming known to someone other than the Customer, that person may be treated by the Bank as an agent of the Customer and the Customer undertakes to indemnify the Bank against all loss or damage which may occur as a result of that agent’s use of the relevant information.  <br><br>5.2. The Customer and/or the User undertake to change their Password frequently and immediately in the event of any suspicion of Password being fully or partly compromised or disclosed to third parties. <br><br>5.3. The Bank shall have no liability for any misuse of Internet Banking Service by any Customer or any unauthorized third party and shall be entitled to act, without reference to the Customer or its User, on any instruction received through use of the Customer’s or the User’s Password or User Identification. <br><br>5.4. The Customer hereby acknowledges and agrees that the Bank is not under any legal or contractual obligation to make any investigations regarding the identity of the User gaining access to Internet Banking Service other than the User, User Identification, Password and any other additional security methods implemented by the Bank’s sole discretion. <br><br>5.5. The Customer shall be liable for the usage of the User name, User Identification, Password and/or any additional security methods determined by the Bank used to access Internet Banking Service by authorized Person, unauthorized person or any other third party.  <br><br>5.6. The Customer shall not use passwords that are easy to guess, e.g. name, date of birth, telephone number(s), etc. It is advisable to use a combination of upper and lower case letters as well as numbers. The Customer should not use shared passwords with anyone and should not use the same password for other websites.  <br><br>5.7. The Bank shall not be liable if the misuse of Internet Banking Service results from the Customer’s noncompliance with security procedures or these Internet Banking Terms and Conditions or any specific security procedures advised to the Customer by the Bank from time to time.   <br><br>5.8. The Customer agrees to take all reasonable precautions to ensure that computer viruses are not introduced into Internet Banking Service Software or any other Software.   <br><br><b>6. Transaction Processing:</b><br><br>6.1. All the instructions for instantaneous transactions will be given effect to instantaneously unless and until some processing work or Maintenance activity is being done. In case the services are not available during the End of the Day processing then the transaction will get credit on the next day. <br><br>6.2. All the requests for non-instantaneous transactions such as Manager’s Cheque Request, Term Deposit Opening etc. received after 10pm will be carried out at the next working day on first in first out basis subject to availability of clear funds in the account authorized for debit. Similarly requests for on-line Financial transactions like Fund Transfer, Third Party Fund Transfer, Credit Card payments and other such payments received after 10pm will be carried out at the next working day on first in first out basis subject to availability of clear funds in the account authorized for debit. In case instructions for effecting any transactions are received on weekly offs/holidays/public holidays, they shall be effected on the immediately succeeding working day on the Terms and Conditions prevailing on that day.<br><br>6.3  Customer shall not hold the Bank responsible for not processing/effecting any transactions in case the Bank does not receive instruction to this effect even though customer has forwarded the same electronically, i.e. by means of e-mails and short messaging services (SMS). In the event of any dispute on the actual communication made to the Bank, the records of the Bank shall be final.  <br><br>6.4. Customer hereby agree to abide by the following Terms and Conditions in addition to the Terms and Conditions as applicable to Internet Banking:  <br><br>6.4.1. Customer shall be at liberty to utilize the Payment Instruction Services through Internet Banking for transfer of funds for such purpose, as customer shall deem fit; <br><br>6.4.2. Customer shall have the full right and/or authority to access and avail of the services obtained and the goods purchased and customer shall observe and comply with the applicable laws and regulations in each jurisdiction in applicable territories. Customer shall not involve the Bank as a party to such transaction. Customer shall provide the Bank with such information and/or assistance as is required by the Bank for the performance of the Services and/or any other obligations of the Bank herein.  <br><br>6.4.3. Customer shall not at any time provide to any person, with any of his/her details held by customer with the Bank, including CIF, Username, Password, account number, Card details which may be assigned to customer by the Bank from time to time.<br><br>6.4.4. Customer hereby agree that the Bank shall be entitled to presume that all instructions received by the Bank by using his/her Username and Password are in order / genuine and have been actually given by customer and shall be bound by the same conclusively.<br><br><b>7. Charges and fees: </b><br><br>7.1. The Bank shall debit the subscribers account with fees & charges for any instructions through the service. Such charges shall be as per the Bank’s Schedule of Charges for the various services. The Bank also reserves the right to make any changes to the fees and charges for the service or to the service or any terms and conditions at any time.  <br><br>7.2. The subscriber authorizes the bank to debit the subscriber’s account with applicable fees and charges for the service of the previous month on the first working day of the subsequent month as determined by the bank at its own discretion.  <br><br>7.3. In case the subscriber does not pay the applicable fees and charges for two consecutive months, the Bank will be entitled to cancel the service without referring to the subscriber. <br><br><b>8. Exclusion of Liability: </b><br><br>8.1. The Bank shall not be liable for any loss or damage suffered by the Customer in the following cases: <br><br>8.1.1 Termination, suspension or disruption of the Internet Banking Service or a part of it without giving prior notice to a Customer.  <br><br>8.1.2. Any misuse of the Internet Banking Service by the Customer where the misuse is a result of non-adherence to reasonable security procedures or terms and conditions of the Internet Banking Service or any specific security procedures advised to the Customer by the Bank from time to time. .<br><br>8.1.3. Where the Customer fails to notify the Bank of any change in their e-mail address, mailing address or contact numbers. <br><br>8.1.4. Any errors or failures from any malfunction of the subscriber’s telephone equipment that is used by the Customer. <br><br>8.1.5. Any labor/industrial dispute or other matter outside the Bank’s control or the control of the Bank’s Agents and subcontractors. <br><br>8.1.6. Any erroneous Payment to any Recipient arising from the Customer’s error. <br><br>8.1.7. Any delay beyond the Bank’s control in making Payment to any Recipient. <br><br>8.1.8. Any failure by the Customer to adhere to any notice, communication from the Bank.  <br><br>8.1.9. Any loss arising out of any erroneous Payments or any delay in the transmission of funds through Internet Banking Service to any Recipient which may result from the termination or disruption of Internet Banking Service.  <br><br>8.1.10. Any losses or damages arises from the accuracy of any Financial or non-Financial Transaction undertaken by the Customer. <br><br>8.1.11.\tAny failure by the Bank to make a Payment to a Recipient or to carry out the Customer’s instructions if the Account was attached by a court order or any other competent authority or is blocked or frozen for whatever reason.  <br><br>8.1.12.\tAny other loss that the Customer may suffer by using the Internet Banking Service. <br><br><b>9. Force Majeure: </b><br><br>9.1. The Bank shall not be liable if any transaction does not fructify or may not be completed or for any failure on part of the Bank to perform any of its obligations under these Terms and Conditions or those applicable specifically to its services/facilities if performance is prevented, hindered or delayed by a Force Majeure event (defined below) and in such case its obligations shall be suspended for so long as the Force Majeure event continues. <br><br>9.2. <b>\"Force Majeure Event\"</b> means any event due to any cause beyond the reasonable control of the Bank, including without limitations, unavailability of any communication systems, breach, or virus in the processes or payment or delivery mechanism, sabotage, fire, flood, explosion, acts of god, civil commotion, strikes or industrial action of any kind, riots, insurrection, war, acts of government, computer hacking, unauthorized access to computer data and storage devices, computer crashes, malfunctioning in the computer terminal or the systems getting affected by any malicious, destructive or corrupting code or program, mechanical or technical errors/failures or power shut down, faults or failures in telecommunication etc. <br><br><b>10. Indemnity:  </b><br><br>Customer hereby agree that Customer shall indemnify and hold the Bank harmless against all actions, claims, demands, proceedings, losses, damages, costs, charges and expenses whatsoever which the Bank may at any time incur, sustain, suffer or be put to as a consequence of or by reason of or arising out of providing any of the services or due to any negligence/mistake/misconduct on customer part or breach or non-compliance by customer of any of the Terms and Conditions relating to any of the services or by reason of the Bank in good faith taking or refusing to take action on any instruction given by customer. <br><br><b>11. Termination of Internet Banking Service:  </b><br><br>The Customer can request for termination of the Internet Banking Facility any time by giving a written notice of at least 15 days to the Bank. The Customer agrees that the Bank has the right to terminate the Internet Banking Service and withdraw any or all of the facilities under, without assigning any reason, after serving a notice to the Customer by ordinary post or via e-mail or by any other medium the Bank deemed appropriate.<br><br><b>12. Proprietary Rights: </b><br><br>The Customer agree that the software and hardware underlying the Internet Banking Service as well as other Internet related software which are required for accessing Internet Banking are the legal property of the respective Vendors/Bank. The permission given by the Bank to access Internet Banking will not convey any proprietary or ownership rights in the above software / hardware. The Customer agree that Customer shall not attempt to modify, translate, disassemble, decompile or reverse engineer the software / hardware underlying Internet Banking or create any derivative product based on the software / hardware. <br><br><b>13. Miscellaneous:</b><br><br>Failure to enforce any rights conferred by these Terms and Conditions or any law shall not be deemed to be a waiver of any such rights or operate so as to the exercise or enforcement thereof at any subsequent time.<br><br><b>14. Governing Law:</b><br><br>This Agreement shall be governed by the laws of the United Kingdom and any dispute arising out of this shall be subject to the jurisdiction of courts in UK to the extent not contradicting UK constitution and commercial law<br><br></body></html>\t"; //resourceHelper.getMessage("TermsAndConditions." + widget.executingTransactionName);

    if (termsAndConditions == transactionTermsAndConditions) {
      termsAndConditions =
          "<html> <head> </head> <body> <div class=\"text-black font-size-16 font-weight-bold\">Retail Internet Banking - Terms and Conditions</div>  <br> <b>1. Definitions and Interpretations:</b> <br> <br> 1.1.<b>\"Banking Service Terms and Conditions\"</b> shall mean the Terms and Conditions as modified from time to time applicable to Banking services offered by the Bank. <br><br> 1.2.<b>\"Confidential Information\"</b> refers to information obtained by the Customer, through the Bank, for availing various Services through Internet Banking. <br><br> 1.3.<b>\"Payment Instruction\"</b> shall mean an instruction given by a Customer to transfer funds from the Account held by the Customer to different account(s) held by other approved Customers within the Bank or with any other Bank and /or request to issue Manager’s Cheque in the name of the Recipient who may or may not have an account with the Bank or to make payments of the nature of bill payments, Credit Card payments and such payments of similar nature. The Bank may in its sole and exclusive discretion confine this facility only to certain permitted Customers or may extend it from time to time to be generally available to all Customers.<br><br> 1.4. <b>“Customer”</b> refers to any person who has a Bank Account and/or a Credit Card account and/or a loan account who has been authorized by the Bank to avail of the said facility. Customer Username generated during internet banking registration and Password that the customer needs to use in order to do his/her Internet Banking transactions.<br><br> 1.5. <b>“Account”</b> refers to the Customer's Savings and/or Current Account and/or loan accounts and/or Term Deposit or any other type of account so designated by the Bank to be eligible account(s) for operations through the use of Internet Banking. <br><br> 1.6.<b>“Personal Information”</b> refers to the information about the customer obtained in connection with Internet Banking/any other Banking relationship with the Bank.<br><br> <b>2. General Terms and Conditions</b> <br> <br> In addition to the terms and conditions, if any, set forth in the completed application form signed by the Customer/ Account holder, the Customer agrees that the following terms and conditions are applicable to the Accounts opened with the Bank: <br> <br> 2.1. Subject to the Bank’s sole discretion the Customer acknowledges that only Credit Only Account will be opened until all documentations required by the Bank are received and in the opinion of the Bank, being satisfactory to open the full access Account<br><br> 2.2. For Current/Savings Accounts, the Bank may at its sole discretion issue the Customer a cheque book which may either be sent by courier/mail at the Customer’s absolute responsibility and risk and without any liability on the Bank, to the address specified in the Account application form, or the Bank may make the cheque book available for collection by the Customer or his representative at the branch at which the Account was opened. <br><br> 2.3. The Customer understands that no book will be issued for any type of Account which shall be subject to the law requirements, the directive the Central Bank, and the Bank approval.<br><br> 2.4. The Bank shall be entitled to debit the Customer’s Account any cheques, bills of exchange, promissory notes and orders for payment drawn, accepted or made by the authorized signatory(ies) and to carry out any instructions given by him/them or by attorney(s) duly authorized by him/them in connection with the Account(s) notwithstanding that any such debiting or carrying out may cause, such Account to be overdrawn or any overdraft to be increased, but always without prejudice to the Bank’s right to refuse to allow any overdraft or increase of overdraft. The Customer is personally and separately fully liable in addition to being jointly liable (if any) for any overdraft or obligations arising in or in connection with the Account. <br><br> 2.5. In the event of the death, incapacity, dissolution, insolvency or bankruptcy (or another analogue proceeding) of the Customer the Bank shall not be liable for any loss which may arise from any dealings on the Account unless and until the Bank has received a written notice of the same together with satisfactory documents acceptable to the Bank or as determined by the Bank. In such circumstances, the Bank shall suspend all dealings on the Account until a duly appointed successor or court appointed officer has, in the opinion of the Bank, been suitably empowered to deal with the Account according to the applicable laws.<br><br> 2.6. The Bank shall be entitled without reference to the Customer to debit the Account in respect of all expenses, taxes, duties, and any charges contained in any relevant tariff or agreement including without limitation, legal charges, all charges for dishonored cheques, stopped cheques and interest in debit balance (whether authorized or not). The Bank further reserves the right to levy service charge if the balance on the Account falls below the required minimum during a calendar month or does not meet other required criteria determined by the Bank from time to time. The Bank shall have the right to vary the charges/fees on the Account or any transaction or Banking Service at any time at the Bank’s sole discretion without prior notice to the Customer. The Bank is hereby authorized to debit the Customer’s Account(s) with all interest commission and/or other banking charges and expenses (including legal charges) incurred in connection with the Account(s) without reference to the Customer. <br><br> 2.7. All payment orders, exchange operations and sale or purchase of securities undertaken by the Bank on behalf of the Customer shall be at the risk and expenses of the Customer. Neither the Bank nor any of its agents shall be liable for any error, omissions, mutilation, interruption or delay occurring in their transmission. <br><br> 2.8. The Customer accepts all costs, expenses, and risk whatsoever in connection with any Account denominated in a foreign currency including without limitation, any legal or regulatory restriction international or domestic affecting the Bank and the Bank shall not be liable for any loss or delay pursuant thereto. Withdrawals in foreign currency notes shall be subject to their availability at the Bank’s branch. The Bank reserves the right to charge the Customer commission on cash deposits and withdrawals to/ from foreign currency Accounts if such deposits and withdrawals are not in the same currency as the Account. Conversion from one currency to another shall be at the Bank’s rate of exchange as determined by the Bank from time to time. <br><br> 2.9. Unless otherwise agreed the Bank sends a statement of Account to the Customer the frequency of which will depend on the Account type and can be varied at the Bank’s sole discretion.<br><br> 2.10. The statement must be carefully checked and reviewed the Customer on receipt, any error or discrepancy notified in writing to the Bank within fifteen days (15 days) of the statement date as it appears in the Bank records. If no such notice is given by the Customer, the statement is deemed to be correct and the Customer may not thereafter raise any objections to the statement. If the Customer does not receive a statement of Account for any period, it is the responsibility of the Customer to request a statement from the Bank within one month of the date on which such statement would normally have been sent to him/them.<br><br> 2.11. The Bank will be dispatching the statement of Account to the Customer’s address stated in the Account application or email address at the agreed frequency. The bank shall have the right to send the account statement to the customer’s email address held with the bank the act which exempts the bank from sending the account statement to the customer by regular mail. However the Bank shall suppress, in the system, the generation of statements and discontinue their dispatch if the statement dispatched to the Customer’s address, as appearing in the Bank’s records, are returned undelivered consecutively on two or more occasions, till such time the Bank is provided with an alternative address for mailing the statements and those statements not mailed to the Customer, may be collected from the Bank premises after serving sufficient notice for retrieval from the system. The Customer hereby absolves the Bank from any consequences, losses, damages, claims or other rightful acts, which the Customer may otherwise have against the Bank arising either directly or indirectly, of the Bank not dispatching the statements of Accounts. Furthermore the Customer understands that the Bank will not be responsible in any way for the Customer’s inability to verify the correctness or the propriety of the entries in the statements, owing to the Bank withholding the statements, and agrees to indemnify and hold the Bank indemnified against any loss, damage or claims which may arise by virtue of above.<br><br> 2.12. The Customer must immediately inform the Bank in writing of any change in the details given on Customer Information/Account opening form/application and any subsequent changes thereto. <br><br> 2.13. The Customer may be given an option to access his Account statement via the Internet Banking Service if he subscribes to the Bank’s Internet Banking Service. If the Customer opts from this Service, once the Account statement becomes available on the Bank’s website, the Bank will deliver a notice of availability (the Notice) to the Customer’s email address in the Bank’s record. Hence the Customer shall be deemed to be bound by these terms and conditions, as amended by the Bank from time to time:<br><br> 2.13.1. The Bank shall be deemed to have delivered the statement of Account to the Customer upon receipt by the Customer of the Notice.<br><br> 2.13.2. The Customer agrees to notify the Bank within twenty four hours (24 hours) of the receipt of the Notice if he is unable to get access to the statement of the Account. Upon expiry of such period the Customer shall be deemed to have received and accessed the statement of the Account. <br><br> 2.13.3. The Customer agrees to notify the Bank with regard to any discrepancies, omissions, inaccuracy or wrong entry in the statements of Account within fifteen days (15 days) from either: > the date of delivering the statement of Account by the Bank; or > If the Customer is unable to access the statement of Account and notifies the Bank upon the Customer receiving and getting access to the Account statement.<br><br> 2.13.4. In addition to the above, the Customer acknowledges the risk that is associated with the data received/delivered through the internet/email including any confidential information that might have been accessed or seen by third parties. The Account Customer release and discharge the Bank, its employees, officers and representatives with regard to damages suffered by the Customer directly or indirectly due to such unauthorized access by or disclosure of confidential information to third parties.<br><br> 2.13.5. The Customer understands and agrees that the storage of information including without limitation, the user name, password, the Account information, transaction activity, the Account balance and/or any other information stored on the Customer’s personal computer shall be stored at the Customer’s risk and liability, the Bank shall not be responsible for any unauthorized access by or disclosure of information to third parties. <br><br> 2.13.6. The Customer agrees that the Bank may at its sole discretion restrict or terminate the Customer’s use of the service stated herein. The Customer further agrees that the Bank may stop sending him statements for his Account by mail if he opts to use the service stated in this clause.<br><br> 2.14. The Bank shall not be held liable for any exchange loss incurred by the Customer in converting or transferring the balance from one currency account to another currency account of the Customer or any third parties.<br><br> 2.15. The Customer agrees that the Bank shall abide by the applicable laws and competent authorities instructions to freeze any funds in the Customer’s Account or take any action necessary if the Bank believes that funds have been obtained through illegal means or transactions. The Bank may report any suspected or confirmed money laundering or other suspicious or illegal activities or transactions in or related to the Account or Banking Services to the competent authorities in United Arab Emirates.<br><br> 2.16. The amounts or funds deposited in the Customer’s Account or held in the Customer’s name cannot be assigned or charged by the Customer to any third party by way of security without the Bank’s prior written approval.<br><br> 2.17. The Bank reserves the right to and the Customer hereby authorizes the Bank to debit the Customer’s Account (in case of insufficient balance to overdraw the Account) in case of crediting any funds to the Account due to system error, technical error or malfunction, clearing system error, human error, or any other reason without any liability on the Bank and the Customer hereby waives any right to file any claim or lawsuit against the Bank as a result of exercising its right under this clause.<br><br> 2.18. The Customer agrees that the Bank has ownership rights and interest with respect to the Account number and Customer Identification number and has the right and privilege to modify or change the Account number or Customer identification number at any time without notice. <br><br> 2.19. Individuals opening Accounts for any company, firm, organization or partnership before the effective and formal establishment of such company, partnership, or firm accept full personal responsibility for these Accounts notwithstanding being designated with a corporate or other name and irrevocably undertake to indemnify the Bank jointly from all consequences of the use of such designation or Accounts until effective establishment of the company, firm or partnership. <br><br> 2.20. Subject to any minimum balance or salary transfer requirement, Banking Service fees and/or any other requirements, the Customer may request the Bank in writing (or through Internet Banking Service whenever possible) to establish and open an additional Account but with a different account number. Unless agreed otherwise, these Terms and Conditions shall apply to any Accounts opened with the Bank and linked to the Customer Identification Number (basic Account number) without any need for executing fresh account opening documentation for such Accounts newly opened.<br><br> 2.21. The Bank may provide the Customer with a telephone number to enable him to inquire about the status of his Account with the Bank including without limitation the Account balance, the transactions in the Account and any other information relating to the Account. The Customer agrees that the Bank may respond to such inquires and furnish the requested information to any Person claiming to be the Customer, provided that the Bank has followed its normal customer verification procedures.<br><br> 2.22. If the Customer has appointed two or more persons (other than himself/itself) to operate an Account jointly and one of such joint authorized signatories die or lose his legal capacity to contract, the Bank shall not allow the other signatory to conduct any activity on the Account without fresh instruction from the Customer. The Customer is required to notify the Bank of the death or loss of capacity of either or any of its appointed joint authorized signatories in writing, within a period not exceeding fifteen days (15 days) from the death or loss of legal capacity.<br><br> 2.23. The Bank shall have the right at any time and at its absolute discretion and without giving written notice to the Customer to close the Account without giving any reason and to request immediate settlement of any outstanding balances due to the Bank if any. The Customer hereby agrees that the Bank’s action in closing the Account shall be effective and binding upon him. The Customer hereby irrevocably waives in advance any right, whether legal or otherwise, that he may have against the Bank in any proceedings whatsoever to complain about the Bank’s action and/or decision to close the Account.<br><br> 2.24. Without prejudice to what stated in the above clause, if at any time cheques issued on the Customer Account return or bounce unpaid due to insufficient balance in the Account, the Bank may close the Account pursuant to the applicable laws and regulations of the Central Bank of United Arab Emirates. The Customer shall return to the Bank the cheque books relating to the Account closed, the Customer understand that the Bank will report such Account and related details to the Central Bank of United Arab Emirates and any relevant authorities.<br><br> 2.25. The Customer may close the Account by giving prior written notice at any time to the Bank after payment of all monies due to the Bank at the time of closing the Account. The Bank may close, freeze or suspend dealings on the Account after deduction of all monies due to the Bank, and cease accepting funds to be credited in the Account, without prior notice to the Customer and without giving any reason and without breach of duty to the Customer either at the Bank’s own instance or at instance of any court or administrative order.<br><br> 2.26. The Customer agrees to the Bank, its officers and agents disclosing information relating to his/her Accounts and/or dealing relationship(s) with the Bank, including but not limited to details of any credit facilities, any security taken, transaction undertaken, balances and positions with the Bank, to:<br><br> 2.26.1. Professional advisors and service providers of the permitted parties who are under a duty of confidentiality. <br><br> 2.26.2. Any actual or potential participant or subparticipant in relation to any of the Bank’s rights and/or obligations under any agreement with the Bank, or its assignee, novatee or transferee (or any agent or adviser of any of the foregoing).<br><br> 2.26.3. Any rating agency, insurer or insurance broker, or direct or indirect provider of credit protection to any permitted party.<br><br> 2.26.4. Any court or tribunal or regulatory, supervisory, governmental or quasi-governmental authority with jurisdiction over the permitted parties.<br><br> 2.27. The Customer authorizes and allows the Bank to inquire from banks and other financial institutions, the employer of the Customer, or any other body as the Bank deem appropriate about any financial and non-financial information relating to the Customer including but not limited to the details of banking facilities, the financial position, the income, and any other information relating to the Customer which the Bank deems appropriate without reference to the Customer.<br><br> 2.28. The Bank reserves the right at its sole discretion without reference to the Customer to reject, suspend or cancel Customer’s Instructions whether it’s a Financial Transaction or a non-financial transaction, regardless the form or mode of communication of such Customer’s Instructions, in the event of any Customer Instruction being incomplete, inconsistent, incorrect, not submitted or communicated in the form requested by the bank or is in the breach of any internal policy, applicable law or regulation. <br><br> <b>3. Current Accounts and Savings Accounts special terms:</b> <br> <br> 3.1. Subject to the Bank’s sole discretion and the applicable laws and the regulations of the Central Bank, the Customer may be eligible to open a Current/Savings Account if he is resident in the country and has the full legal capacity.<br><br>        3.2. Current/Savings Accounts will be opened for major Customers only, however, if the Customer is a minor, the Current/Savings Account shall be opened by his legal guardian who will execute all the account opening documentation and carry out all the transactions in the Current/Savings Accounts. The Bank recognizes no owner of the Current/Savings Account other than the person in whose name the Account has been opened. <br><br> 3.3. Subject to the Bank’s discretion, the Bank may issue a cheque book to the Customer to enable him to operate his Current/Savings Account. The Customer may request the Bank to issue him a customized cheque book. The cheque books issued maybe sent by mail/courier to the customer or made available for collection by the customer from the branch at which the account was opened. If the customer opts to have the Bank send him the cheque book by mail/courier, he shall be liable for any loss resulting from any failure or delay in the cheque book reaching him. In such a case the Customer shall pay the Bank the cost of issuing the customized cheque book. The Bank reserves the right to refuse to comply with any drawing instruction from Current/Savings Account unless if such withdrawals instruction are made by cheque.<br><br> 3.4. The Customer agrees and undertakes to keep the cheque book in a safe custody and place to avoid any misuse or fraudulent actions on the cheque book by others. In the event of loss or theft of the cheque book or any cheque(s), the Customer shall promptly notify the competent authorities and give immediate notice in writing to the Bank to stop the payment of the lost or theft cheque(s), the Customer agrees and acknowledge that the Bank shall not be liable for any losses or damage arising thereof. <br><br> 3.5. The Bank shall not accept any responsibility in the event of a post-dated cheque(s) being inadvertently or otherwise honored before their due dates.<br><br> 3.6. The total amount of cheques drawn on Current/Savings account but not yet presented for payment must not at any time, exceed the credit balances on the account and available for withdrawal. The Bank is not obliged to honor cheques drawn against unrealized or un-cleared payments into the Account. The Bank will levy a charge for any cheque that is returned unpaid for lack of funds. If within a specific period the number of cheques returned due to insufficient funds equals/exceeds the limit from time to time set by the Central Bank, the Bank will close the Account, collect from the Customer any un-issued or unused cheques and report the name of the Customer and returned cheque details to the Central Bank risk bureau or any competent authority without any notice to the Customer or any liability on the Bank. <br><br> 3.7. A Current/Savings Account may not become overdrawn except by previous arrangement with the Bank. However, if the Bank and at its sole discretion allows any overdraft whether or not previously arranged for overdraft, or the increase of any overdraft on the Current/Savings Account for any reason without such arrangement, or in the event that a cheque(s) causing the Customer’s Current/Savings to be overdrawn in excess of the permissible limits or funds or if such cheque(s) are inadvertently honored by the Bank, the Customer shall repay the Bank the amount overdrawn together with interest at the Bank’s overdraft rate and the Bank’s prevailing charges on demand. The interest will be calculated in accordance with the Bank’s custom and practice and will be debited from the overdraft account each month or at such other intervals as the Bank at its sole discretion may decide. The overdraft amount and due interest shall be payable by the Customer to the Bank immediately upon demand. <br><br> 3.8. Without prejudice to what is stated in clause (4.6) above and unless agreed in writing, the Customer understands that the Bank is not obliged to permit an overdraft in the Customer’s Current/Savings Account and/or any other Account or to continue to permit such overdraft to the Customer’s Account after having done so previously. <br><br> 3.9. The Customer agrees and acknowledges that instructions for stop payment of any cheque(s) are accepted only if pursuant to the applicable laws. The Bank accepts no responsibility for any failure to comply with such instructions and shall not be held liable for any consequences and cost including without limitation legal fees and penalties, which may arise out of its compliance with such instructions.<br><br> 3.10. Acting only as the Customer’s collection agent, the Bank may agree to accept, but without assuming any responsibility for their realization, cheques, bank drafts and other similar payment instruments for deposit, provided that they are made out in favor of the Customer or endorsed to his order. For this purpose, the Bank and its correspondents or other agents appointed by the Bank shall be deemed to be the Customer’s agent.<br><br> 3.11. The Bank or its agents shall not be held liable for the loss, mutilation or dishonor of cheque(s) or other instrument or for the failure to credit, late presentation granting time, any delay in crediting the Account or nonpayment and return of cheques or other instruments.<br><br> 3.12. The proceeds of cheques or other instruments shall not be available for withdrawal until collected by the Bank. The Bank reserves the right to debit any of the Customer’s Accounts or demand payment from the Customer for any amount exceptionally or mistakenly credited or credited under usual reserve, which are subsequently unpaid. <br><br> 3.13. The Bank shall not be liable or responsible for failure to give notice of nonpayment or dishonor of any cheque or any claims, losses or expenses which may arise as a result of returning a dishonored cheque, whether by ordinary or registered mail or any other means. The Bank reserves the right to debit the Customer’s Accounts with the amount of any cheque which was drawn or endorsed in favor of the Customer (whether or not the cheque is drawn on the Bank, its branches, affiliates or subsidiaries) that has been credited to the Account and is subsequently unpaid, whether or not the cheque itself can be returned.<br><br> <b>4. Miscellaneous:</b> <br> <br> Failure to enforce any rights conferred by these Terms and Conditions or any law shall not be deemed to be a waiver of any such rights or operate so as to the exercise or enforcement thereof at any subsequent time.<br><br>        <b>5. Governing Law:</b> <br> <br> This Agreement shall be governed by the laws of the United Kingdom and any dispute arising out of this shall be subject to the jurisdiction of courts in UK to the extent not contradicting UK constitution and commercial law.<br><br> </body> </html>"; //resourceHelper.getMessage("TermsAndConditions.Default");
    }
  }

  void showTerms(BuildContext context) {
    setTermsAndConditions();
    ModalPopupHelper.instance.showHtmlModal(
      context,
      termsAndConditions,
      hasCloseButton: true,
      minHeight: 500,
      title: "Terms And Conditions",
      modalWidth: MediaQuery.of(context).size.width * 0.9,
      insetPadding: const EdgeInsets.symmetric(horizontal: 10),
    );
  }

  void writeValue(bool value) {
    setState(() {
      contractModel = value;
    });
  }

  @override
  Widget build(BuildContext context) {
    return Column(
      children: [
        VCProductCheckBox(
          id: widget.id,
          showError: widget.showError,
          checkOthers: widget.checkOthers,
          willValidate: widget.willValidate,
          isChecked: widget.isChecked ?? contractModel,
          widget: Html(data: termsAndConditionsText,  style: {
            "u": Style(color: VCProductColors.instance.activeTileColor, textDecoration: TextDecoration.none),
          }),
          onChanged: (value) {
            widget.onChanged?.call(value);
            setState(() {
              contractModel = value ?? contractModel;
            });
            if (value == true) showTerms(context);
          },
        ),
      ],
    );
  }
}
